â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                 SmartDiet ML API - Quick Build Commands                 â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸš€ FAST BUILD (with cache - recommended)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  DOCKER_BUILDKIT=1 docker-compose build
  
  OR (if BuildKit enabled globally):
  make build

  Time: First = 10-30 min, After = 30 sec - 2 min


ğŸ”§ ONE-TIME SETUP (Enable BuildKit)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  # Add to ~/.bashrc or ~/.zshrc:
  echo 'export DOCKER_BUILDKIT=1' >> ~/.bashrc
  source ~/.bashrc

  # Or use the provided script:
  source .dockerbuildrc


ğŸ“¦ COMMON COMMANDS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  make build          Build with cache (FAST!)
  make up             Start services
  make down           Stop services
  make logs           View all logs
  make logs-api       View API logs only
  make logs-web       View web logs only
  make restart        Restart services
  make clean          Remove containers & volumes
  make clean-cache    Clear Docker build cache


ğŸ” CHECK CACHE STATUS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  docker buildx du    Show cache usage
  make cache-info     Show cache info


âš ï¸  FORCE REBUILD (slow - use only if needed)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  make rebuild
  
  OR:
  DOCKER_BUILDKIT=1 docker-compose build --no-cache


ğŸ› TROUBLESHOOTING
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  Problem: Cache not working
  â”œâ”€ Check: docker version | grep BuildKit
  â”œâ”€ Fix: Enable BuildKit (see setup above)
  â””â”€ Test: Build twice, second should be fast

  Problem: Port already in use
  â”œâ”€ Edit: .env file
  â”œâ”€ Change: ML_API_PORT=8001 and WEB_PORT=7861
  â””â”€ Restart: make restart

  Problem: Still slow after code change
  â”œâ”€ Expected if: requirements.txt changed
  â”œâ”€ Check: git diff app/requirements.txt
  â””â”€ Solution: Wait once, next build will be fast


ğŸ“Š PERFORMANCE METRICS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  Scenario              | Before  | After      | Savings
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  First build           | 30 min  | 30 min     | 0%
  Code change only      | 30 min  | 1 min      | 97%
  No changes            | 30 min  | 10 sec     | 99%
  
  Requirements.txt: 1384 lines, ~2.5GB downloads
  Cache location: /var/lib/docker/buildkit/


ğŸ“š DOCUMENTATION
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  README.md                  - Project overview
  QUICK_START.md             - Setup in 3 commands
  DOCKER_CACHING_GUIDE.md    - Deep dive into caching
  FIXES_SUMMARY.md           - All fixes applied
  CHANGELOG.md               - Version history
  Makefile                   - Command definitions


ğŸŒ ACCESS POINTS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  API Documentation:    http://localhost:8000/docs
  API Health Check:     http://localhost:8000/health
  Web Interface:        http://localhost:7860


ğŸ’¡ PRO TIPS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  âœ… Always use DOCKER_BUILDKIT=1 or enable it globally
  âœ… Use make commands for convenience
  âœ… Check cache usage: make cache-info
  âœ… Keep requirements.txt stable (avoid frequent changes)
  âœ… Don't use --no-cache unless absolutely necessary
  âœ… First build is slow - be patient!
  âœ… All subsequent builds = lightning fast âš¡

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  Questions? See DOCKER_CACHING_GUIDE.md for detailed troubleshooting    â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
